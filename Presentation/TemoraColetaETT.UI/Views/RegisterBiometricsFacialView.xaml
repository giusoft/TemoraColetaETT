<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TemoraColetaETT.UI.Views.RegisterBiometricsFacialView"
             xmlns:vm="clr-namespace:TemoraColetaETT.UI.ViewModels"
                          x:DataType="vm:RegisterBiometricsFacialViewModel">
    <Grid RowDefinitions="*, Auto" Padding="20">
        <Grid Grid.Row="0">
            <Image
                x:Name="CameraView"
                Source="{Binding CameraImageSource}"
                Aspect="AspectFill"
                IsVisible="{Binding IsCameraReady}" />

            <VerticalStackLayout
                IsVisible="{Binding IsInitializing}"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Spacing="20">

                <Image
                    Source="loadingfile.jpg"
                    HeightRequest="200"
                    WidthRequest="200" />

                <ActivityIndicator
                    IsRunning="{Binding IsInitializing}"
                    Color="{StaticResource Primary}" />

                <Label
                    Text="{Binding StatusMessage}"
                    HorizontalOptions="Center" />

            </VerticalStackLayout> 
        </Grid>

        <Grid Grid.Row="1" Margin="0,20,0,0">
            <Button
                Text="Capturar Foto"
                Command="{Binding CapturePhotoCommand}"
                IsVisible="{Binding IsCameraReady}"
                HorizontalOptions="Center" />

            <ActivityIndicator
                IsRunning="{Binding IsInitializing}"
                IsVisible="{Binding IsInitializing}"
                HorizontalOptions="Center" />
        </Grid>
    </Grid>
</ContentPage>